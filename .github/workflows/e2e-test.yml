# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª SDK Update E2E Test
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Simula um release do SDK para testar o fluxo completo:
#   SDK Release â†’ Webhook â†’ Mini-apps â†’ PR + Issue
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: ğŸ§ª E2E Test

on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Version to simulate (e.g. 2.0.0)'
        required: true
        default: '2.0.0'
      is_breaking:
        description: 'Simulate breaking change?'
        type: boolean
        default: true

jobs:
  test:
    name: ğŸ§ª Trigger SDK Release Test
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¤ Trigger SDK Release Workflow
        env:
          GH_TOKEN: ${{ secrets.PAT_TOKEN }}
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ§ª TRIGGERING SDK RELEASE TEST"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "Version: ${{ github.event.inputs.version }}"
          echo "Breaking: ${{ github.event.inputs.is_breaking }}"
          echo ""
          
          gh workflow run "sdk-release.yml" \
            --repo ricardo2009/superapp-sdk-poc \
            -f version="${{ github.event.inputs.version }}" \
            -f is_breaking="${{ github.event.inputs.is_breaking }}"
          
          echo "âœ… SDK Release workflow triggered!"
          echo ""
          echo "Check results at:"
          echo "  SDK: https://github.com/ricardo2009/superapp-sdk-poc/actions"
          echo "  PIX: https://github.com/ricardo2009/miniapp-pix-poc/pulls"
          echo "  PAG: https://github.com/ricardo2009/miniapp-pagamentos-poc/pulls"
